[TOC]

## 数据清洗

数据清洗是数据预处理的一个重要步骤，它可以提高数据质量，从而提高模型性能。以下是一些常见的数据清洗技巧：

1. **缺失值处理**：
   - 删除缺失值：如果缺失值不多，可以考虑删除含有缺失值的行或列。
   - 填充缺失值：使用平均值、中位数、众数或使用其他方法（如K最近邻、回归模型等）来估计缺失值。
2. **异常值检测和处理**：
   - 使用图形方法（如箱线图）来识别异常值。
   - 使用统计方法（如Z分数、IQR等）来识别异常值。
   - 删除或替换异常值。
3. **重复值处理**：
   - 删除重复的行或列。
4. **数据转换**：
   - 标准化：将数据缩放到均值为0，标准差为1的范围。
   - 归一化：将数据缩放到0到1的范围。
   - 幂变换：如对数变换、Box-Cox变换等，用于稳定方差或转换非正态分布的数据。
5. **特征工程**：
   - 创建新的特征：如交互特征、多项式特征、时间衍生特征等。
   - 特征选择：选择与目标变量最相关的特征。
   - 特征编码：将类别特征转换为数值特征，如独热编码、标签编码等。
6. **文本数据清洗**：
   - 删除停用词：去除常见的、无意义的词。
   - 词干提取：将单词缩减为其词干或原型形式。
   - 词性还原：将单词的变形形式还原为其基本形式。
7. **日期和时间处理**：
   - 将日期和时间转换为统一的格式。
   - 提取日期和时间组件，如年、月、日、小时等。
8. **错误数据修正**：
   - 手动检查数据并修正明显的错误。
   - 使用外部数据源或交叉验证来修正错误。
9. **数据类型转换**：
   - 确保每个特征的数据类型正确，例如，将数值类型的特征转换为浮点型或整型。
10. **数据整合**：
    - 如果数据来自多个源，可能需要合并或连接数据集。
11. **采样**：
    - 如果数据集不平衡，可以考虑进行过采样或欠采样。
12. **异常检测和修正**：
    - 使用规则或模型来检测数据中的不一致性，并对其进行修正。
在进行数据清洗时，重要的是要理解数据的特点和上下文，以便选择合适的清洗方法。此外，数据清洗是一个迭代过程，可能需要多次检查和调整以达到最佳效果。

## 模型优化

1. 特征的选取

   - 特征选取的不同得到的结果可能是天差地别的，就像预测波士顿房价的例子。

     > 一开始我选用全部的特征进行训练继续，验证R²的数值结果输出-7.0480说明我们的模型非常不好，然后我参数优化。优化的方法是我把权重高的参数挑出来，单独进行训练再看看R²的数值。
     >
     > 结果R²的数值为-0.3143。你看我把参数选出几个进行训练，虽然结果不尽人意，但是比参数全部训练的结果好太多了。

   - 特征选取的方法

     1.  **经验选择**：根据我们对问题的理解选取我们认为可能对问题影响大的几个特征
     2. **基于模型的特征选择**：使用某些模型（如决策树、随机森林）来评估特征的重要性，并选择最重要的特征。
     3. **前向选择**：从空集开始，逐步添加特征，直到模型性能不再提升。
     4. **后向消除**：从全特征集开始，逐步去除最不重要的特征，直到模型性能不再提升。
     5. **L1正则化（Lasso）**：在模型训练过程中加入L1正则化项，使得一些特征的系数变为0，从而实现特征选择。

2. 模型的选取

   针对不同的任务选取不同的模型，不同的问题在不同的模型的表现上不同的。

3. 数据处理

   对数据进行处理更好的提升模型的泛化能力

4. 模型算法优化

   损失函数、激活函数等等

## skicit-learn库中常使用的模块
```python
# 线性回归
from sklearn.linear_model import LinearRegression
# 逻辑回归
from sklearn.linear_model import LogisticRegression
# 决策树
from sklearn.tree import DecisionTreeClassifier
# k近邻
from sklearn.neighbors import KNeighborsClassifier
# 随机森林
from sklearn.ensemble import RandomForestClassifier
# 数据切分，交叉验证
from sklearn.model_selection import train_test_split,GridSearchCV
# 准确率
from sklearn.metrics import accuracy_score
# 交叉验证
from sklearn.model_selection import StratifiedKFold
# k均值聚类算法
from sklearn.cluster import KMeans
```